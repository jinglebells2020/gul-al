<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WhatsApp Web.js</title>
</head>
<body>
  <button onclick="send()">Send Message</button>

  <script>
    function showConfetti() {
      const count = 40;
      for (let i = 0; i < count; i++) {
        const flower = document.createElement("div");
        flower.textContent = "üå∏";
        flower.style.position = "fixed";
        flower.style.zIndex = "9999";
        flower.style.fontSize = "24px";
        flower.style.pointerEvents = "none";
        flower.style.top = Math.random() * 100 + "%";
        flower.style.left = Math.random() * 100 + "%";
        flower.style.transform = `translateY(-100vh) rotate(${Math.random() * 360}deg)`;
        flower.style.animation = "fall 2s ease-out forwards";
        document.body.appendChild(flower);
        setTimeout(() => flower.remove(), 2000);
      }
    }

    const style = document.createElement("style");
    style.textContent = `
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);

    async function send() {
      showConfetti();
      const response = await fetch("/send", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          number: "77070408201",
          message: "–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ üå∏"
        }),
      });
      const text = await response.text();
      console.log(text);
    }
  </script>
</body>
</html>
